{{- if .Release.IsInstall -}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "tsa.systemname" . }}-mysql-init-sql-cm
  namespace: {{ include "tsa.namespace" . }}
  labels:
    {{- include "tsa.labels" . | nindent 4 }}
data:
  init.sql: "-- MySQL dump 10.13  Distrib 8.0.32, for macos13 (arm64)\n--\n-- Host: 127.0.0.1    Database: student_archives\n-- ------------------------------------------------------\n-- Server version\t8.0.32\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!50503 SET NAMES utf8 */;\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\n/*!40103 SET TIME_ZONE='+00:00' */;\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n\n--\n-- Database structure for database `student_archives`\n--\nCREATE DATABASE IF NOT EXISTS `student_archives` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */;\n\nUSE `student_archives`;\n\n--\n-- Table structure for table `college`\n--\n\nDROP TABLE IF EXISTS `college`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `college` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `name` (`name`)\n) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `college`\n--\n\nLOCK TABLES `college` WRITE;\n/*!40000 ALTER TABLE `college` DISABLE KEYS */;\nINSERT INTO `college` VALUES (-1,'学生处','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(1,'人工智能学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(2,'电子信息与自动化学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(3,'化工与材料学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(4,'生物工程学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(5,'海洋与环境学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(6,'轻工科学与工程学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(7,'文法学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(8,'艺术设计学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(9,'经济与管理学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(10,'机械工程学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(11,'外国语学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000'),(12,'食品科学与工程学院','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000');\n/*!40000 ALTER TABLE `college` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `comprehensive_materials`\n--\n\nDROP TABLE IF EXISTS `comprehensive_materials`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `comprehensive_materials` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `awards_and_penalties` int NOT NULL,\n  `league_volunteer` int NOT NULL,\n  `league_application` int NOT NULL,\n  `undergraduate_registration` int NOT NULL,\n  `undergraduate_examination` int NOT NULL,\n  `party_development` int NOT NULL,\n  `senior_evaluation` int NOT NULL,\n  `other` varchar(300) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1493 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `comprehensive_materials`\n--\n\nLOCK TABLES `comprehensive_materials` WRITE;\n/*!40000 ALTER TABLE `comprehensive_materials` DISABLE KEYS */;\n/*!40000 ALTER TABLE `comprehensive_materials` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `django_migrations`\n--\n\nDROP TABLE IF EXISTS `django_migrations`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `django_migrations` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `app` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `applied` datetime(6) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `django_migrations`\n--\n\nLOCK TABLES `django_migrations` WRITE;\n/*!40000 ALTER TABLE `django_migrations` DISABLE KEYS */;\nINSERT INTO `django_migrations` VALUES (1,'app','0001_initial','2023-10-29 16:00:24.980545');\n/*!40000 ALTER TABLE `django_migrations` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `high_school_materials`\n--\n\nDROP TABLE IF EXISTS `high_school_materials`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `high_school_materials` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `registration_form` int NOT NULL,\n  `physical_examination` int NOT NULL,\n  `volunteer_form` int NOT NULL,\n  `graduation_registration` int NOT NULL,\n  `health_checkup` int NOT NULL,\n  `family_survey` int NOT NULL,\n  `comprehensive_exam_scores` int NOT NULL,\n  `sports_achievement` int NOT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1493 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `high_school_materials`\n--\n\nLOCK TABLES `high_school_materials` WRITE;\n/*!40000 ALTER TABLE `high_school_materials` DISABLE KEYS */;\n/*!40000 ALTER TABLE `high_school_materials` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `movement_info`\n--\n\nDROP TABLE IF EXISTS `movement_info`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `movement_info` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `movement_date` datetime(6) DEFAULT NULL,\n  `archive_destination` varchar(60) COLLATE utf8mb4_unicode_ci DEFAULT NULL,\n  `responsible_person` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `contact_phone` varchar(11) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  `movement_reason_id` bigint NOT NULL,\n  PRIMARY KEY (`id`),\n  KEY `movement_info_movement_reason_id_41897f90_fk_movement_reason_id` (`movement_reason_id`),\n  CONSTRAINT `movement_info_movement_reason_id_41897f90_fk_movement_reason_id` FOREIGN KEY (`movement_reason_id`) REFERENCES `movement_reason` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1493 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `movement_info`\n--\n\nLOCK TABLES `movement_info` WRITE;\n/*!40000 ALTER TABLE `movement_info` DISABLE KEYS */;\n/*!40000 ALTER TABLE `movement_info` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `movement_reason`\n--\n\nDROP TABLE IF EXISTS `movement_reason`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `movement_reason` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `name` varchar(60) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `name` (`name`)\n) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `movement_reason`\n--\n\nLOCK TABLES `movement_reason` WRITE;\n/*!40000 ALTER TABLE `movement_reason` DISABLE KEYS */;\nINSERT INTO `movement_reason` VALUES (1,'入伍','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(2,'休学','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(3,'退学','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(4,'留级','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(5,'休学复学','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(6,'退伍复学','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(7,'转专业','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000'),(9,'无','2023-12-05 16:56:38.340695','2023-12-05 16:56:38.340782');\n/*!40000 ALTER TABLE `movement_reason` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `student_basic_info`\n--\n\nDROP TABLE IF EXISTS `student_basic_info`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `student_basic_info` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `home_location` varchar(60) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `student_number` varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `name` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `id_card_number` varchar(18) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `grade` varchar(21) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `class_number` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `archive_location` varchar(60) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `enrollment_year` varchar(21) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `graduation_year` varchar(21) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  `college_id` bigint NOT NULL,\n  `comprehensive_materials_id` bigint NOT NULL,\n  `high_school_materials_id` bigint NOT NULL,\n  `movement_info_id` bigint NOT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `student_basic_info_college_id_student_number_6ed59049_uniq` (`college_id`,`student_number`),\n  UNIQUE KEY `student_basic_info_college_id_id_card_number_dc8c0a0a_uniq` (`college_id`,`id_card_number`),\n  KEY `student_basic_info_comprehensive_materi_9534d097_fk_comprehen` (`comprehensive_materials_id`),\n  KEY `student_basic_info_high_school_material_cf613968_fk_high_scho` (`high_school_materials_id`),\n  KEY `student_basic_info_movement_info_id_4eb8c817_fk_movement_info_id` (`movement_info_id`),\n  CONSTRAINT `student_basic_info_college_id_d01785e3_fk_college_id` FOREIGN KEY (`college_id`) REFERENCES `college` (`id`),\n  CONSTRAINT `student_basic_info_comprehensive_materi_9534d097_fk_comprehen` FOREIGN KEY (`comprehensive_materials_id`) REFERENCES `comprehensive_materials` (`id`),\n  CONSTRAINT `student_basic_info_high_school_material_cf613968_fk_high_scho` FOREIGN KEY (`high_school_materials_id`) REFERENCES `high_school_materials` (`id`),\n  CONSTRAINT `student_basic_info_movement_info_id_4eb8c817_fk_movement_info_id` FOREIGN KEY (`movement_info_id`) REFERENCES `movement_info` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=1493 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `student_basic_info`\n--\n\nLOCK TABLES `student_basic_info` WRITE;\n/*!40000 ALTER TABLE `student_basic_info` DISABLE KEYS */;\n/*!40000 ALTER TABLE `student_basic_info` ENABLE KEYS */;\nUNLOCK TABLES;\n\n--\n-- Table structure for table `user`\n--\n\nDROP TABLE IF EXISTS `user`;\n/*!40101 SET @saved_cs_client     = @@character_set_client */;\n/*!50503 SET character_set_client = utf8mb4 */;\nCREATE TABLE `user` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `account` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `password` varchar(300) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `name` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `phone` varchar(11) COLLATE utf8mb4_unicode_ci NOT NULL,\n  `create_time` datetime(6) NOT NULL,\n  `update_time` datetime(6) NOT NULL,\n  `college_id` bigint DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `account` (`account`),\n  KEY `user_college_id_86f08cfe_fk_college_id` (`college_id`),\n  CONSTRAINT `user_college_id_86f08cfe_fk_college_id` FOREIGN KEY (`college_id`) REFERENCES `college` (`id`)\n) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n/*!40101 SET character_set_client = @saved_cs_client */;\n\n--\n-- Dumping data for table `user`\n--\n\nLOCK TABLES `user` WRITE;\n/*!40000 ALTER TABLE `user` DISABLE KEYS */;\nINSERT INTO `user` VALUES (1,'{{ .Values.web.account }}','$2a$12$g7Ks.LBszgPw6ksx/eN0UejLXV3T.odjYtCVxN235oQPj2hqJOpq2','学生处','12345678910','2023-10-29 16:02:33.000000','2023-10-29 16:02:33.000000',-1),(2,'20201312','$2a$12$PHTAujla9VELBoON6iGVe.bd/rx0VXaWOMmAEeXKzwnQuRO8kycYy','王飞龙','17756750852','2023-10-29 16:02:46.000000','2023-10-29 16:02:46.000000',1);\n/*!40000 ALTER TABLE `user` ENABLE KEYS */;\nUNLOCK TABLES;\n/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;\n\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\n/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\n\n-- Dump completed on 2024-03-26 20:51:43\n"
{{- end }}